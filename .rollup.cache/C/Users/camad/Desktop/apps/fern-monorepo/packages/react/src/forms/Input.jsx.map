{"version":3,"file":"Input.jsx","sourceRoot":"","sources":["Input.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport Info from './Info'\r\nimport Cond from '../Cond'\r\nimport { cn, isEmail, useListener } from '../_util'\r\n\r\ninterface Props {\r\n  innerRef?: any\r\n  id?: string\r\n  name: string\r\n  label?: string\r\n  placeholder?: string\r\n  className?: string\r\n  type?: string\r\n  required?: boolean\r\n  charLimit?: number\r\n  onChange?: Function\r\n  message?: string\r\n}\r\n\r\nexport default function Input({ \r\n  innerRef,\r\n  id,\r\n  name,\r\n  label,\r\n  placeholder,\r\n  className,\r\n  type = 'text',\r\n  required,\r\n  charLimit,\r\n  onChange,\r\n  message\r\n}: Props) {\r\n  const [invalid, setInvalid] = useState(required)\r\n  const [modified, setModified] = useState(false)\r\n  const [formState, setFormState] = useState<any>({})\r\n  const outerRef = useRef<any>()\r\n\r\n  const showInfo = invalid && (modified || formState.error)\r\n\r\n  const update = (e: any) => {\r\n    setInvalid(required && (!e?.target.value || (type === 'email' && !isEmail(e.target.value))))\r\n    setModified(true)\r\n  }\r\n\r\n  useListener('FernFormStateChange', (e: any) => {\r\n    setFormState(e.detail.state)\r\n  }, outerRef)\r\n\r\n  return (\r\n    <label\r\n      ref={outerRef}\r\n      className={cn('fui-field', showInfo && 'fui-field-invalid', className)}\r\n    >\r\n      <Cond hide={!label} className='fui-label'>\r\n        {label}\r\n      </Cond>\r\n      <Cond\r\n        innerRef={innerRef}\r\n        as={type === 'area' ? 'textarea' : 'input'}\r\n        id={id}\r\n        type={type}\r\n        name={name || label || placeholder}\r\n        data-field-valid={!invalid}\r\n        placeholder={placeholder}\r\n        onChange={(e: any) => { update(e), onChange && onChange(e) }}\r\n        onBlur={update}\r\n        disabled={formState.disabled}\r\n        maxLength={charLimit ? charLimit : type === 'area' ? 1000 : 100}\r\n      />\r\n      <Info visible={showInfo}>\r\n        {message || type === 'email' ? 'Please enter a valid email address.' : 'Please complete this field.'}\r\n      </Info>\r\n    </label>\r\n  )\r\n}"]}