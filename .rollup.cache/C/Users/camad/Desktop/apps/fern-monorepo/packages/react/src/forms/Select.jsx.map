{"version":3,"file":"Select.jsx","sourceRoot":"","sources":["Select.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport Info from './Info'\r\nimport Icon from '../Icon'\r\nimport Cond from '../Cond'\r\nimport { cn, useListener } from '../_util'\r\nimport { angle } from '../_icons'\r\n\r\ninterface Props {\r\n  innerRef?: any\r\n  id?: string\r\n  name: string\r\n  label?: string\r\n  placeholder?: string\r\n  className?: string\r\n  options: string[]\r\n  required?: boolean\r\n  onChange?: Function\r\n  message?: string\r\n}\r\n\r\nexport default function Select({ \r\n  innerRef,\r\n  id,\r\n  name,\r\n  label,\r\n  placeholder,\r\n  className,\r\n  options,\r\n  required,\r\n  onChange,\r\n  message\r\n}: Props) {\r\n  const [invalid, setInvalid] = useState(required)\r\n  const [modified, setModified] = useState(false)\r\n  const [formState, setFormState] = useState<any>({})\r\n  const outerRef = useRef<any>()\r\n\r\n  const showInfo = invalid && (modified || formState.error)\r\n\r\n  const update = (e: any) => {\r\n    setInvalid(required && e.target.selectedIndex < 1)\r\n    setModified(true)\r\n  }\r\n\r\n  useListener('FernFormStateChange', (e: any) => {\r\n    setFormState(e.detail.state)\r\n  }, outerRef)\r\n\r\n  return (\r\n    <label\r\n      ref={outerRef}\r\n      className={cn('fui-field', showInfo && 'fui-field-invalid', className)}\r\n    >\r\n      <Cond hide={!label} className='fui-label'>\r\n        {label}\r\n      </Cond>\r\n      <div style={{ position: 'relative' }}>\r\n        <select\r\n          ref={innerRef}\r\n          id={id}\r\n          name={name || label || placeholder}\r\n          data-field-valid={!invalid}\r\n          onChange={e => { update(e), onChange && onChange(e) }}\r\n          onBlur={update}\r\n          disabled={formState.disabled}\r\n          style={{ cursor: 'pointer' }}\r\n        >\r\n          <option>\r\n            {placeholder || 'Select an option'}\r\n          </option>\r\n          {options.map(o => \r\n            <option value={o} key={o}>\r\n              {o}\r\n            </option>    \r\n          )}\r\n        </select>\r\n        <div style={wrapperStyle as Object}>\r\n          <Icon i={angle} className='fui-select-icon' />\r\n        </div>\r\n      </div>\r\n      <Info visible={showInfo}>\r\n        {message || 'Please select an option.'}\r\n      </Info>\r\n    </label>\r\n  )\r\n}\r\n\r\nconst wrapperStyle: any = {\r\n  position: 'absolute',\r\n  top: '0',\r\n  right: '0',\r\n  display: 'flex',\r\n  height: '100%',\r\n  alignItems: 'center',\r\n}"]}