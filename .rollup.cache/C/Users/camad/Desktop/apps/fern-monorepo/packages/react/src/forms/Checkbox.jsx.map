{"version":3,"file":"Checkbox.jsx","sourceRoot":"","sources":["Checkbox.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport Info from './Info'\r\nimport Icon from '../Icon'\r\nimport Cond from '../Cond'\r\nimport { cn, useListener } from '../_util'\r\nimport { check } from '../_icons'\r\n\r\ninterface Props {\r\n  innerRef?: any\r\n  id?: string\r\n  name: string\r\n  label?: string\r\n  className?: string\r\n  required?: boolean\r\n  onChange?: Function\r\n  message?: string\r\n}\r\n\r\nexport default function Checkbox({\r\n  innerRef,\r\n  id,\r\n  name,\r\n  label,\r\n  className,\r\n  required,\r\n  onChange,\r\n  message\r\n}: Props) {\r\n  const [invalid, setInvalid] = useState(required)\r\n  const [modified, setModified] = useState(false)\r\n  const [formState, setFormState] = useState<any>({})\r\n  const outerRef = useRef<any>()\r\n\r\n  const showInfo = invalid && (modified || formState.error)\r\n\r\n  const update = (e: any) => {\r\n    setInvalid(required && !e.target.checked)\r\n    setModified(true)\r\n  }\r\n\r\n  useListener('FernFormStateChange', (e: any) => {\r\n    setFormState(e.detail.state)\r\n  }, outerRef)\r\n\r\n  return (\r\n    <div\r\n      ref={outerRef}\r\n      className={cn('fui-field', showInfo && 'fui-field-invalid', className)}\r\n    >\r\n      <label style={wrapperStyle}>\r\n        <input\r\n          ref={innerRef}\r\n          id={id}\r\n          type='checkbox'\r\n          name={name || label}\r\n          data-field-valid={!invalid}\r\n          onChange={e => { update(e), onChange && onChange(e) }}\r\n          onBlur={update}\r\n          disabled={formState.disabled}\r\n          style={inputStyle}\r\n        />\r\n        <div className='fui-check-box' style={boxStyle}>\r\n          <Icon i={check} className='fui-check-icon' style={iconStyle} />\r\n        </div>\r\n        <Cond hide={!label} className='fui-label'>\r\n          {label}\r\n        </Cond>\r\n      </label>\r\n      <Info visible={showInfo}>\r\n        {message || 'Please check this box to proceed.'}\r\n      </Info>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst wrapperStyle = {\r\n  display: 'flex',\r\n  cursor: 'pointer',\r\n}\r\n\r\nconst inputStyle = {\r\n  width: '0',\r\n  height: '0',\r\n  outlineWidth: '0 !important',\r\n}\r\n\r\nconst boxStyle = {\r\n  flexShrink: '0',\r\n  display: 'inline-flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n}\r\n\r\nconst iconStyle = {\r\n  position: 'relative',\r\n  display: 'block',\r\n}"]}