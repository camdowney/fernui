{"version":3,"file":"Media.jsx","sourceRoot":"","sources":["Media.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,MAAM,OAAO,CAAA;AACzB,OAAO,IAAI,MAAM,QAAQ,CAAA;AACzB,OAAO,EAAE,EAAE,EAAE,MAAM,SAAS,CAAA;AAgB5B,MAAM,CAAC,OAAO,UAAU,KAAK,CAAC,EAYtB;QAZsB,EAC5B,EAAE,GAAG,KAAK,EACV,GAAG,EACH,SAAS,EACT,KAAK,EACL,UAAU,EACV,GAAG,GAAG,EAAE,EACR,WAAW,EACX,KAAK,EACL,IAAI,EACJ,QAAQ,OAEF,EADH,KAAK,cAXoB,oGAY7B,CADS;IAER,MAAM,UAAU,GAAG,EAAE,KAAK,KAAK,IAAI,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,CAAA;IAC1F,MAAM,MAAM,GAAG,OAAO,GAAG,cAAc,GAAG,eAAe,GAAG,EAAE,CAAA;IAC9D,MAAM,SAAS,GAAG,EAAE,KAAK,OAAO,IAAI,IAAI,CAAA;IAExC,OAAO,CACL,CAAC,GAAG,CACF,SAAS,CAAC,CAAC,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC,CACtC,KAAK,CAAC,CAAC,gCAAK,KAAK,GAAK,CAAC,KAAK,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAY,CAAC,CAChF,IAAI,KAAK,CAAC,CAEV;MAAA,CAAC,WAAW,aAAX,WAAW,cAAX,WAAW,GAAI,CAAC,GAAG,CAAC,SAAS,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,gBAA0B,CAAC,EAAG,CACtF;MAAA,CAAC,IAAI,CACH,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CACX,EAAE,CAAC,CAAC,EAAE,CAAC,CACP,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CACjD,aAAa,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAC5D,MAAM,CAAC,CAAC,CAAC,UAAU,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CACtD,gBAAgB,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CACjE,KAAK,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CACxC,SAAS,CAAC,CAAC,UAAU,CAAC,CACtB,eAAe,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,CACjC,KAAK,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CACzC,GAAG,CAAC,CAAC,GAAG,CAAC,CACT,KAAK,CAAC,CAAC,OAAO,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAClE,QAAQ,CAAC,CAAC,SAAS,CAAC,CACpB,KAAK,CAAC,CAAC,SAAS,CAAC,CACjB,IAAI,CAAC,CAAC,SAAS,CAAC,CAChB,WAAW,CAAC,CAAC,SAAS,CAAC,EAE3B;IAAA,EAAE,GAAG,CAAC,CACP,CAAA;AACH,CAAC;AAED,MAAM,iBAAiB,GAAG;IACxB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,UAAU;IACpB,OAAO,EAAE,OAAO;IAChB,MAAM,EAAE,IAAI;CACb,CAAA;AAED,MAAM,eAAe,GAAG;IACtB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,UAAU;IACpB,GAAG,EAAE,GAAG;IACR,MAAM,EAAE,GAAG;IACX,IAAI,EAAE,GAAG;IACT,KAAK,EAAE,GAAG;CACX,CAAA;AAED,MAAM,gBAAgB,GAAG;IACvB,QAAQ,EAAE,UAAU;IACpB,GAAG,EAAE,GAAG;IACR,MAAM,EAAE,GAAG;IACX,IAAI,EAAE,GAAG;IACT,KAAK,EAAE,GAAG;IACV,eAAe,EAAE,6CAA6C;CAC/D,CAAA;AAED,MAAM,iBAAiB,GAAG,CAAC,EAAO,EAAE,EAAE,CAAC,CAAC;IACtC,QAAQ,EAAE,UAAU;IACpB,GAAG,EAAE,GAAG;IACR,IAAI,EAAE,GAAG;IACT,KAAK,EAAE,MAAM;IACb,MAAM,EAAE,MAAM;IACd,SAAS,EAAE,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS;IAChD,cAAc,EAAE,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS;CACvD,CAAC,CAAA","sourcesContent":["import React from 'react'\r\nimport Cond from './Cond'\r\nimport { cn } from './_util'\r\n\r\ninterface Props {\r\n  as?: string\r\n  src?: string\r\n  className?: string\r\n  style?: object\r\n  innerClass?: string\r\n  alt?: string\r\n  placeholder?: any\r\n  cover?: boolean\r\n  auto?: boolean\r\n  priority?: boolean\r\n  [x:string]: any\r\n}\r\n\r\nexport default function Media({\r\n  as = 'img',\r\n  src,\r\n  className,\r\n  style,\r\n  innerClass,\r\n  alt = '',\r\n  placeholder,\r\n  cover,\r\n  auto,\r\n  priority,\r\n  ...props\r\n}: Props) {\r\n  const responsive = as === 'img' && src && src.includes('.webp') && !src.startsWith('http')\r\n  const srcset = `/sm/${src} 640w, /md/${src} 1024w, /lg/${src}`\r\n  const autoVideo = as === 'video' && auto\r\n\r\n  return (\r\n    <div\r\n      className={cn('fui-media', className)}\r\n      style={{ ...style, ...(cover ? coverOuterStyle : defaultOuterStyle) } as Object}\r\n      {...props}\r\n    >\r\n      {placeholder ?? <div className='fui-placeholder' style={placeholderStyle as Object} />}\r\n      <Cond\r\n        hide={!src}\r\n        as={as}\r\n        src={(!responsive && priority) ? src : undefined}\r\n        data-lazy-src={(!responsive && !priority) ? src : undefined}\r\n        srcSet={(responsive && priority) ? srcset : undefined}\r\n        data-lazy-srcset={(responsive && !priority) ? srcset : undefined}\r\n        sizes={responsive ? '100vw' : undefined}\r\n        className={innerClass}\r\n        allowFullScreen={as === 'iframe'}\r\n        title={as === 'iframe' ? alt : undefined}\r\n        alt={alt}\r\n        style={typeof as === 'string' ? defaultMediaStyle(as) : undefined}\r\n        autoPlay={autoVideo}\r\n        muted={autoVideo}\r\n        loop={autoVideo}\r\n        playsInline={autoVideo}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst defaultOuterStyle = {\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  display: 'block',\r\n  zIndex: '10',\r\n}\r\n\r\nconst coverOuterStyle = {\r\n  overflow: 'hidden',\r\n  position: 'absolute',\r\n  top: '0',\r\n  bottom: '0',\r\n  left: '0',\r\n  right: '0',\r\n}\r\n\r\nconst placeholderStyle = {\r\n  position: 'absolute',\r\n  top: '0',\r\n  bottom: '0',\r\n  left: '0',\r\n  right: '0',\r\n  backgroundImage: 'linear-gradient(to right, #e0e0e0, #c0c0c0)',\r\n}\r\n\r\nconst defaultMediaStyle = (as: any) => ({\r\n  position: 'absolute',\r\n  top: '0',\r\n  left: '0',\r\n  width: '100%',\r\n  height: '100%',\r\n  objectFit: as !== 'iframe' ? 'cover' : 'initial',\r\n  objectPosition: as !== 'iframe' ? 'center' : 'initial',\r\n})"]}