{"version":3,"file":"InteractForm.jsx","sourceRoot":"","sources":["InteractForm.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,OAAO,CAAA;AAC/C,OAAO,IAAI,MAAM,QAAQ,CAAA;AACzB,OAAO,KAAK,MAAM,UAAU,CAAA;AAC5B,OAAO,IAAI,MAAM,SAAS,CAAA;AAC1B,OAAO,EAAE,EAAE,EAAE,SAAS,EAAE,MAAM,UAAU,CAAA;AACxC,OAAO,EAAE,OAAO,EAAE,MAAM,WAAW,CAAA;AASnC,MAAM,CAAC,OAAO,UAAU,YAAY,CAAC,EAK7B;QAL6B,EACnC,QAAQ,EACR,GAAG,EACH,QAAQ,GAAG,EAAE,OAEP,EADH,KAAK,cAJ2B,+BAKpC,CADS;IAER,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAM,EAAE,CAAC,CAAA;IACnD,MAAM,QAAQ,GAAG,MAAM,EAAO,CAAA;IAE9B,MAAM,OAAO,GAAG,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,SAAS,CAAC,OAAO,CAAA;IAE3D,MAAM,WAAW,GAAG,CAAC,KAAU,EAAE,EAAE;QACjC,YAAY,CAAC,KAAK,CAAC,CAAA;QAEnB,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,EAAE,KAAK,CAAC;YAC/B,SAAS,CAAC,QAAQ,CAAC,CAAA;IACvB,CAAC,CAAA;IAED,OAAO,CACL,CAAC,IAAI,CACH,aAAa,CAAC,CAAC,WAAW,CAAC,CAC3B,IAAI,KAAK,CAAC,CAEV;MAAA,CAAC,QAAQ,CACT;MAAA,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,EAChB;QAAA,CAAC,GAAG,CACJ;QAAA,CAAC,KAAK,CACJ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,SAAS,CAAC,CAAC,EAAE,CAAC,oBAAoB,EAAE,OAAO,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,QAAQ,CAAC,CAAC,CACvF,OAAO,CAAC,QAAQ,CAChB,UAAU,CAAC,CAAC,IAAI,CAAC,CACjB,QAAQ,CACR,MAAM,CAAC,CAAC,EAAE,CAAC,CACX,KAAK,CAAC,CAAC,EAAE,MAAM,EAAE,eAAe,EAAE,CAAC,CAEnC;UAAA,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,mBAAmB,EAC/C;UAAA,CAAC,OAAO,CACV;QAAA,EAAE,KAAK,CAET;;MAAA,GAAG,CAAC,CAAC,CAAC,CACJ,CAAC,CAAC,CAAC,SAAS,CAAC,sBAAsB,CACjC;UAAA,CAAC,OAAO,CACV;QAAA,EAAE,CAAC,CAAC,CACL,CACH;IAAA,EAAE,IAAI,CAAC,CACR,CAAA;AACH,CAAC","sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport Form from './Form'\r\nimport Modal from '../Modal'\r\nimport Icon from '../Icon'\r\nimport { cn, openModal } from '../_util'\r\nimport { warning } from '../_icons'\r\n\r\ninterface Props {\r\n  children?: any\r\n  btn?: any\r\n  messages?: string[]\r\n  [x:string]: any\r\n}\r\n\r\nexport default function InteractForm({\r\n  children,\r\n  btn,\r\n  messages = [],\r\n  ...props\r\n}: Props) {\r\n  const [formState, setFormState] = useState<any>({})\r\n  const modalRef = useRef<any>()\r\n\r\n  const message = messages[formState.id] || formState.message\r\n\r\n  const handleState = (state: any) => {\r\n    setFormState(state)\r\n\r\n    if (state.error || state.id === 6) \r\n      openModal(modalRef)\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      onStateChange={handleState}\r\n      {...props}\r\n    >\r\n      {children}\r\n      {!formState.end ? <>\r\n        {btn}\r\n        <Modal\r\n          innerRef={modalRef}\r\n          className={cn('fui-interact-modal', `fui-${formState.error ? 'error' : 'info'}-modal`)}\r\n          bgClass='hidden'\r\n          closeDelay={2000}\r\n          relative\r\n          exitOn={{}}\r\n          style={{ zIndex: '30 !important' }}\r\n        >\r\n          <Icon i={warning} className='fui-interact-icon' />\r\n          {message}\r\n        </Modal>\r\n        \r\n      </> : (\r\n        <p className='fui-interact-message'>\r\n          {message}\r\n        </p>\r\n      )}\r\n    </Form>\r\n  )\r\n}"]}